# app_config.py
# 存放产业链树、省份列表、路径等静态数据
# 增强版：支持六大研究维度和产业链深度分析

import os

# 路径配置 
KNOWLEDGE_BASE_DIR = "./knowledge_base"
OUTPUT_DIR = "./output"

# 自动创建目录
def init_directories():
    for d in [KNOWLEDGE_BASE_DIR, OUTPUT_DIR]:
        if not os.path.exists(d):
            os.makedirs(d)

# 数据常量定义 
PROVINCE_LIST = [
    "全国", "北京市", "上海市", "广东省", "江苏省", "浙江省", "山东省", 
    "福建省", "四川省", "湖北省", "湖南省", "河南省", "安徽省", "陕西省", 
    "江西省", "重庆市", "天津市", "辽宁省", "吉林省", "黑龙江省", "河北省",
    "山西省", "内蒙古", "广西", "海南省", "贵州省", "云南省", "西藏",
    "甘肃省", "青海省", "宁夏", "新疆"
]

# 四级产业链图谱（增强版）
INDUSTRY_TREE = {
    "新能源": {
        "新能源汽车": [
            "全产业链分析", 
            "上游: 锂/钴/镍资源", 
            "上游: 正负极材料",
            "上游: 电解液/隔膜",
            "中游: 动力电池", 
            "中游: 电机电控",
            "下游: 整车制造", 
            "终端: 充电/换电/回收设施"
        ],
        "光伏/太阳能": [
            "全产业链分析", 
            "上游: 硅料/硅片", 
            "中游: 电池片", 
            "中游: 组件", 
            "下游: 电站",
            "下游: 分布式光伏"
        ],
        "氢能": [
            "全产业链分析", 
            "制氢", 
            "储运氢", 
            "燃料电池",
            "加氢站"
        ],
        "储能": [
            "全产业链分析",
            "电化学储能",
            "抽水蓄能",
            "压缩空气储能"
        ]
    },
    "新一代信息技术": {
        "人工智能": [
            "全产业链分析", 
            "算力层 (GPU/光模块)", 
            "模型层 (LLM)", 
            "应用层 (AIGC)",
            "数据层 (数据标注/清洗)"
        ],
        "半导体": [
            "全产业链分析", 
            "上游: 设备", 
            "上游: 材料", 
            "中游: 设计",
            "中游: 制造", 
            "下游: 封测"
        ],
        "低空经济": [
            "全产业链分析", 
            "eVTOL整机", 
            "飞控系统", 
            "空域管理", 
            "复材与电机"
        ],
        "大数据": ["全产业链分析", "数据采集", "数据存储", "数据分析", "数据应用"],
        "云计算": ["全产业链分析", "IaaS", "PaaS", "SaaS"],
        "物联网": ["全产业链分析", "感知层", "网络层", "平台层", "应用层"],
        "5G/6G通信": ["全产业链分析", "基站设备", "核心网", "终端设备", "应用服务"]
    },
    "高端装备制造": {
        "工业机器人": [
            "全产业链分析", 
            "上游: 减速器", 
            "上游: 伺服电机", 
            "上游: 控制器", 
            "中游: 本体集成",
            "下游: 系统集成"
        ],
        "航空航天": [
            "全产业链分析", 
            "航空发动机", 
            "商业航天", 
            "卫星互联网",
            "航空材料"
        ],
        "数控机床": ["全产业链分析", "数控系统", "功能部件", "整机制造"],
        "海洋工程装备": ["全产业链分析", "海工平台", "深海装备", "海洋能源装备"]
    },
    "新材料": {
        "先进高分子材料": ["全产业链分析", "工程塑料", "特种橡胶", "高性能纤维"],
        "纳米材料": ["全产业链分析", "纳米粉体", "纳米薄膜", "纳米复合材料"],
        "高性能复合材料": ["全产业链分析", "碳纤维", "玻璃纤维", "陶瓷基复合材料"],
        "生物医用材料": ["全产业链分析", "植入材料", "组织工程材料", "药物载体材料"],
        "稀土材料": ["全产业链分析", "稀土开采", "稀土分离", "稀土应用"]
    },
    "生物技术与医药": {
        "创新药": [
            "全产业链分析", 
            "CXO (研发/生产外包)", 
            "抗体药物", 
            "细胞治疗",
            "小分子药物",
            "核酸药物"
        ],
        "医疗器械": [
            "全产业链分析", 
            "医学影像", 
            "IVD (体外诊断)", 
            "高值耗材",
            "手术机器人"
        ],
        "生物疫苗": ["全产业链分析", "传统疫苗", "mRNA疫苗", "重组疫苗"],
        "基因工程": ["全产业链分析", "基因测序", "基因编辑", "基因治疗"]
    },
    "消费与服务": {
        "新消费": ["全产业链分析", "品牌商", "渠道商", "供应链"],
        "教育科技": ["全产业链分析", "内容研发", "技术平台", "渠道运营"],
        "文化娱乐": ["全产业链分析", "内容制作", "发行分销", "终端消费"]
    }
}

# 研报侧重点映射（增强版）
REPORT_FOCUS_MAPPING = {
    "政府招商与产业规划": "重点关注产业集聚度、亩均产值、补链强链缺口、招商目标清单。",
    "VC/PE 投资价值分析": "重点关注市场空间(TAM)、竞争壁垒、商业模式、退出路径、财务回报。",
    "技术壁垒与研发创新": "重点关注技术路线对比、核心专利、国产替代空间、卡脖子环节。",
    "风险预警与合规排查": "重点关注法律诉讼、现金流风险、供应链依赖、实控人背景。",
    "产业链深度分析": "重点关注上中下游结构、各环节价值分配、产业链投资机会、卡脖子环节。",
    "竞争格局分析": "重点关注市场份额、龙头企业、竞争壁垒、新进入者威胁。",
    "商业模式分析": "重点关注盈利模式、收入结构、成本结构、毛利率水平。"
}

# ============================================================
# 六大研究维度配置（新增）
# ============================================================
RESEARCH_DIMENSIONS = {
    "行业定义与边界": {
        "description": "这行业到底包含什么？不包含什么？",
        "tools": ["行业协会定义", "一级分类", "NAICS代码"],
        "strategy": "百度百科+Wind+上市公司分类法交叉验证"
    },
    "市场规模与趋势": {
        "description": "现在多大？未来增长吗？为什么？",
        "tools": ["中商/艾瑞/头豹/灼识咨询等报告"],
        "strategy": "百度：行业+市场规模/趋势+年份"
    },
    "产业链结构": {
        "description": "谁是上游、中游、下游？谁赚钱？",
        "tools": ["产业链图谱", "案例图解"],
        "strategy": "找一张图：百度'行业+产业链'"
    },
    "典型玩家与格局": {
        "description": "龙头是谁？市占率如何？谁在扩张谁在退？",
        "tools": ["企业官网", "招股书", "行研报告"],
        "strategy": "速查上市公司年报/招股书总结表"
    },
    "商业模式与变现": {
        "description": "谁付钱？怎么收费？毛利高吗？",
        "tools": ["BM Canvas", "收入结构表"],
        "strategy": "看企业官网的'服务介绍'和年报'主营业务收入'"
    },
    "政策/科技/环境影响": {
        "description": "哪些政策在左右它？新科技有冲击吗？",
        "tools": ["政策汇总", "技术趋势分析"],
        "strategy": "百度：行业+监管政策/技术趋势/ESG"
    }
}

# 产业链分析配置（新增）
SUPPLY_CHAIN_CONFIG = {
    "upstream": {
        "name": "上游",
        "icon": "🔼",
        "color": "#EF4444",
        "focus_areas": ["原材料", "核心零部件", "设备供应商", "技术授权"]
    },
    "midstream": {
        "name": "中游",
        "icon": "⏺️",
        "color": "#10B981",
        "focus_areas": ["核心制造", "加工环节", "技术壁垒", "产能分布"]
    },
    "downstream": {
        "name": "下游",
        "icon": "🔽",
        "color": "#3B82F6",
        "focus_areas": ["应用场景", "终端客户", "需求驱动", "市场规模"]
    },
    "value_chain": {
        "name": "价值链",
        "icon": "💰",
        "color": "#F59E0B",
        "focus_areas": ["利润分配", "议价能力", "投资机会", "价值洼地"]
    }
}

# 报告深度配置（新增）
REPORT_DEPTH_CONFIG = {
    "quick": {
        "name": "快速报告",
        "word_count": 5000,
        "table_count": 3,
        "time_estimate": "5-10分钟"
    },
    "standard": {
        "name": "标准报告",
        "word_count": 10000,
        "table_count": 6,
        "time_estimate": "10-20分钟"
    },
    "deep": {
        "name": "深度报告",
        "word_count": 15000,
        "table_count": 10,
        "time_estimate": "20-40分钟"
    }
}

# 投资者类型配置（新增）
INVESTOR_TYPE_CONFIG = {
    "VC": {
        "name": "VC风险投资",
        "focus": ["早期项目", "技术创新", "团队背景", "市场潜力"],
        "exit_path": ["IPO", "并购", "股权转让"]
    },
    "PE": {
        "name": "PE私募股权",
        "focus": ["成熟企业", "盈利能力", "行业地位", "增长空间"],
        "exit_path": ["IPO", "并购", "分红"]
    },
    "Industrial": {
        "name": "产业资本",
        "focus": ["产业协同", "技术互补", "市场拓展", "供应链整合"],
        "exit_path": ["并购整合", "战略合作"]
    },
    "Government": {
        "name": "政府引导基金",
        "focus": ["产业发展", "就业带动", "税收贡献", "技术突破"],
        "exit_path": ["股权转让", "回购"]
    }
}
