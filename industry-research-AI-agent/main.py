# main.py
# ==========================================
# 后端 Facade（供 app.py / API 调用）
# ==========================================

from agent_system.workflows.industry_research import run_industry_research

def run_investment_analysis(
    industry: str,
    province: str,
    target_year: int,
    focus: str
) -> str:
    """
    行业深度研究（核心）
    """
    inputs = {
        "industry": industry,
        "province": province,
        "target_year": target_year,
        "focus": focus
    }
    return run_industry_research(inputs)


# ------------------ 其他模块（占位） ------------------

def run_meeting_minutes(folder_path: str) -> str:
    return f"📝 会议纪要模块占位：{folder_path}"


def run_company_research(company_name: str) -> str:
    return f"🏢 公司研究模块占位：{company_name}"


def run_bp_interpretation(pdf_path: str) -> str:
    return f"📑 BP 解读模块占位：{pdf_path}"


def run_financial_report_analysis(pdf_path: str) -> str:
    return f"📈 财报分析模块占位：{pdf_path}"


# 资深保代，精通各板块上市标准。
# 需要周密规划以确保方案符合监管要求，其次要详细测算每种方案的收益率，收益率的影响因子有哪些（比如上市公司股价），并对各影响因子按乐观/中性/保守三种方案做预测。初创企业申请上市，可选项有北交所、港交所、创业板、科创板。我希望能在各个交易所/板块的上市标准中（比如收入利润、研发费用占比、发明专利数量等），能快速提炼出最差异化的部分。即，如果我要投资一家初创企业，我最应该关注企业的哪些经营和财务数据，可以让我最快速判断企业未来应该去哪个板块上市，能不能上市，我的退出路径是怎样的。最好是能够量化统计：按企业当前现状，以及成立至今所呈现出的发展趋势，再结合行业大环境，判断企业适合去哪个交易所哪个板块上市，分别按第几套标准。再量化测算，去不同交易所/不同板，按不同的标准，上市成功的概率分别是多大，分别可能要多少年能实现，分别需要企业未来几年关注哪些事项，优先发展/提升哪些环节，我作为投资人股东，投后工作的重点是什么。
# PE合伙人，关注退出路径和IRR。
# 去不同交易所/不同板，不同的标准，再考虑目前企业排队数量，审核周期的情况下，分别可能要多少年，企业才能完成上市。再结合各板块/交易所的平均估值倍数，结合流动性，以及我方的持股比例、锁定周期，分析计算我方等到企业完成上市并且我方完全二级市场退出，各自方案下的irr是多少。有了这样的计算，我才能更好的决策，以终为始来看，站在退出的角度来看，我应不应该投这个企业，我投这个企业，预计什么时候能退出来，我能赚多少钱，能有多少的irr。进而，我再对比不同的拟投企业，横向对比各企业的irr，来驱动我作出更好的投资决策。梳理下所有的新三板公司，各公司都具体是什么产品，团队背景，收入水平，市值，是否有转板计划，等。他们适合转什么板，北交所、创业板、科创板。再统计下，历史上有哪些三板企业转板成功的，什么时候成功的，用的具体第几套标准；企业做对了哪些事，使得财务、业务数据上满足了上述标准。再分析讨论，他们转板成功，是否有大环境的因素。尝试总结共性规矩，总结5-10条。然后看，哪些条，可以复用到上面梳理出的三板公司里，进而，这个三板公司值得现在投一点。当然了，还要分析，能否投得进去，是否有交易机会。最后，顺着这个思路，可以再梳理下“先H后A”，H股公司分拆子公司回A，H股公司私有化回A，这三种方案，过往成功的企业有哪些。也要总结5-10条，然后再去套用，目前在港股的企业，有哪些是有投资价值和交易机会的
